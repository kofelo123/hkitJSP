<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8" import="java.sql.*"%>
<!DOCTYPE html>
<html>
<head>
<title>Insert title here</title>

</head>
<%
	String id=request.getParameter("id");
	String name;
	String phonenum;
	String birthday;
	String company;
	String memo;
	String email;
	
	Connection con = null;
	PreparedStatement pstmt = null;
	ResultSet rs = null;
	String sql="";
	
	try{
		Class.forName("com.mysql.jdbc.Driver");
	}catch(ClassNotFoundException e){
		e.printStackTrace();
	}
	
	try{
		con = DriverManager.getConnection("jdbc:mysql://localhost:3306/addr","hkitJeongwon","gj0123");
	}catch(SQLException e){
		e.printStackTrace();
	}
	
	try{
		sql="select * from addrbook where id=?";
		pstmt=con.prepareStatement(sql);
		pstmt.setString(1, id);		
	}
%>

<body>
<script>
	function del(){
		result = confirm("정말 삭제하시겠습니까?");
		if(result==true){
			location.href="addr_remove.jsp?id="<%=id%>;
			}
		}
</script>
	<center>
		<h1>주소록:등록화면</h1>
		<hr>
		<a href="list.jsp">주소록 등록</a><br>
		<br>
		<form name="addrForm" method="get" action="addr_insert_save.jsp">
			<table width=50% border='1'>
	
			<tr>
				<th>이름</th>
				<td><input type="text" name="name" value=<%=name %>></td>
			</tr>
			<tr>
				<th>e-mail</th>
				<td><input type="text" name="email" value=<%=email %> ></td>
			</tr>
			<tr>
				<th>전화번호</th>
				<td><input type="text" name="phonenum" value=<%=phonenum %>></td>
			</tr>
			<tr>
				<th>생일</th>
				<td><input type="date" name="birthday" value=<%=birthday %>></td>
			</tr>
			<tr>
				<th>회사</th>
				<td><input type="text" name="company" value=<%=company %>></td>
			</tr>
			<tr>
				<th>메모</th>
				<td><input type="text" name="memo" value=<%=memo %>></td>
			</tr>
			<input type=hidden name="id" value=<%=id %>>
			<tr>
				<td><input type="submit" name="저장">
				<input type="reset" value="취소">
<%-- 				<input type="button" value="삭제" onClick="location.href='addr_remove.jsp?id=<%=id%>'"></td> --%>
				<input type="button" value="삭제" onClick="del();"></td>
			</tr>
			

		</table>
	</form>
	</center>

</body>
</html>